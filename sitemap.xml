export default {
  async fetch(request) {
    const today = new Date().toISOString().split('T')[0]; // YYYY-MM-DD

    const urls = [
      // 粘着削除予定トップページ
      { loc: "https://sites.google.com/view/maruyama-/", priority: "0.1" },

      // トップページ
      { loc: "https://www.maruyama-shika.com/", priority: "1.0" },

      // 親ページ（5）
      { loc: "https://www.maruyama-shika.com/高崎市で自然な白さを叶えるホワイトニング実績豊富な丸山歯科医院", priority: "0.9" },
      { loc: "https://www.maruyama-shika.com/高崎市のむし歯治療痛みを抑えた安心の治療を初めての方にも", priority: "0.9" },
      { loc: "https://www.maruyama-shika.com/高崎市の小児歯科初めてでも安心できる子どもの歯の予防と治療", priority: "0.9" },
      { loc: "https://www.maruyama-shika.com/高崎市の歯周病治療はじめての方にもやさしい改善と予防ケア", priority: "0.9" },
      { loc: "https://www.maruyama-shika.com/高崎市の入れ歯治療地域密着で丁寧にサポートする丸山歯科医院", priority: "0.9" },

      // 子ページ群（ホワイトニング）
      { loc: "https://www.maruyama-shika.com/高崎市で自然な白さを叶えるホワイトニング実績豊富な丸山歯科医院/高崎市のホワイトニング比較丸山歯科医院オフィスとホームの違い", priority: "0.9" },
      { loc: "https://www.maruyama-shika.com/高崎市で自然な白さを叶えるホワイトニング実績豊富な丸山歯科医院/高崎市で失敗しないホワイトニング適応タイミングを丁寧にご案内", priority: "0.9" },

      // 子ページ群（むし歯治療）
      { loc: "https://www.maruyama-shika.com/高崎市のむし歯治療痛みを抑えた安心の治療を初めての方にも/1-むし歯の進行と原因を図で解説c0-c4の症状と対処法", priority: "0.8" },
      { loc: "https://www.maruyama-shika.com/高崎市のむし歯治療痛みを抑えた安心の治療を初めての方にも/2-むし歯の進行度別治療法削らない痛みの少ない最新治療", priority: "0.8" },
      { loc: "https://www.maruyama-shika.com/高崎市のむし歯治療痛みを抑えた安心の治療を初めての方にも/3-むし歯の症例別お悩み解決黒い歯詰め物トラブル麻酔が怖い方へ", priority: "0.8" },
      { loc: "https://www.maruyama-shika.com/高崎市のむし歯治療痛みを抑えた安心の治療を初めての方にも/4-むし歯の再発予防と定期検診の大切さ長く歯を守るために", priority: "0.8" },
      { loc: "https://www.maruyama-shika.com/高崎市のむし歯治療痛みを抑えた安心の治療を初めての方にも/5-むし歯治療のqa痛みや通院回数麻酔の不安を解消", priority: "0.8" },

      // 子ページ群（小児歯科）
      { loc: "https://www.maruyama-shika.com/高崎市の小児歯科初めてでも安心できる子どもの歯の予防と治療/1-小児歯科とは子どもの歯を守るために大切なこと", priority: "0.8" },
      { loc: "https://www.maruyama-shika.com/高崎市の小児歯科初めてでも安心できる子どもの歯の予防と治療/2-年齢別の小児歯科ケア成長に合わせた虫歯予防", priority: "0.8" },
      { loc: "https://www.maruyama-shika.com/高崎市の小児歯科初めてでも安心できる子どもの歯の予防と治療/3-子どもが歯医者を怖がらない取り組み", priority: "0.8" },
      { loc: "https://www.maruyama-shika.com/高崎市の小児歯科初めてでも安心できる子どもの歯の予防と治療/4-子どもの歯の悩みqa歯みがき前歯の変色永久歯の異常など", priority: "0.8" },
      { loc: "https://www.maruyama-shika.com/高崎市の小児歯科初めてでも安心できる子どもの歯の予防と治療/4-子どもの歯の悩みqa歯みがき前歯の変色永久歯の異常など/4-1フッ素の安全性と使い方", priority: "0.8" },
      { loc: "https://www.maruyama-shika.com/高崎市の小児歯科初めてでも安心できる子どもの歯の予防と治療/5-小児歯科の定期検診と歯並び管理高崎市-丸山歯科医院", priority: "0.8" },

      // 子ページ群（歯周病）
      { loc: "https://www.maruyama-shika.com/高崎市の歯周病治療はじめての方にもやさしい改善と予防ケア/1-歯周病とは高崎市で歯ぐきの腫れ出血が気になる方へ", priority: "0.8" },
      { loc: "https://www.maruyama-shika.com/高崎市の歯周病治療はじめての方にもやさしい改善と予防ケア/2-歯石取りクリーニングの流れ痛みに配慮したやさしい歯周病ケア", priority: "0.8" },
      { loc: "https://www.maruyama-shika.com/高崎市の歯周病治療はじめての方にもやさしい改善と予防ケア/3-歯周病治療qa痛み通院回数再発などよくある疑問に回答", priority: "0.8" },
      { loc: "https://www.maruyama-shika.com/高崎市の歯周病治療はじめての方にもやさしい改善と予防ケア/4-歯ぐきのおできしこりが気になる方へ", priority: "0.8" },
      { loc: "https://www.maruyama-shika.com/高崎市の歯周病治療はじめての方にもやさしい改善と予防ケア/5-親知らずの炎症と抜歯痛み腫れ抜くタイミングを解説", priority: "0.8" },

      // 子ページ群（入れ歯）
      { loc: "https://www.maruyama-shika.com/高崎市の入れ歯治療地域密着で丁寧にサポートする丸山歯科医院/1-初めての入れ歯治療部分入れ歯の役割と使い始めの注意点をわかりやすく解説", priority: "0.8" },
      { loc: "https://www.maruyama-shika.com/高崎市の入れ歯治療地域密着で丁寧にサポートする丸山歯科医院/2-入れ歯の調整修理について違和感ゆるみ割れに対応", priority: "0.8" },
      { loc: "https://www.maruyama-shika.com/高崎市の入れ歯治療地域密着で丁寧にサポートする丸山歯科医院/3-ばねの見えない入れ歯ノンクラスプデンチャーの特徴", priority: "0.8" },
      { loc: "https://www.maruyama-shika.com/高崎市の入れ歯治療地域密着で丁寧にサポートする丸山歯科医院/4-装着感に優れた金属床入れ歯機能性と快適性を両立", priority: "0.8" },
      { loc: "https://www.maruyama-shika.com/高崎市の入れ歯治療地域密着で丁寧にサポートする丸山歯科医院/5-入れ歯治療qa作成時期費用違和感などよくある質問", priority: "0.8" },

      // 案内系ページ
      { loc: "https://www.maruyama-shika.com/高崎市各種歯科健診可能な歯科医院", priority: "0.9" },
      { loc: "https://www.maruyama-shika.com/はじめて来院される方へ安心してご来院いただくために", priority: "0.8" },
      { loc: "https://www.maruyama-shika.com/お問い合わせアクセス", priority: "0.7" },
      { loc: "https://www.maruyama-shika.com/院長紹介高崎市-丸山歯科医院-院長-丸山和弘", priority: "0.7" }
    ];

    const sitemapUrls = urls.map(u => `
  <url>
    <loc>${u.loc}</loc>
    <lastmod>${today}</lastmod>
    <priority>${u.priority}</priority>
  </url>`).join("\n");

    const sitemap = `<?xml version="1.0" encoding="UTF-8"?>
<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">
${sitemapUrls}
</urlset>`;

    return new Response(sitemap, {
      headers: { "content-type": "application/xml; charset=UTF-8" },
    });
  }
};
